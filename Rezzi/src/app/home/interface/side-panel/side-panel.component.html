<!-- This component shows the floors/channels the user is in -->
<div *ngIf="channels.length > 0"> <!-- TODO make sure expanded channels don't appear over 'Join' button -->

  <mat-expansion-panel *ngFor="let channel of channels"> <!-- looping the floor channels -->
    <ng-container *ngIf="channel.belongs">
      <mat-expansion-panel-header>
        <mat-panel-title (click)='doTheThing()' routerLink='/home'> <!-- TODO add routerLink or click to view channel's chat -->
          {{ channel.channel }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <ng-container *ngFor="let interest of channel.subchannels"> <!-- Looping the interest channels-->
        <mat-card *ngIf="interest.belongs">
          <mat-card-content (click)='doTheThing()' routerLink='/home'> <!-- TODO add routerLink or click to view channel's chat -->
            {{ interest.channel }}
          </mat-card-content>
        </mat-card>
      </ng-container>

      <button mat-stroked-button class="add-channel-button" routerLink='/create-channel'>Create Channel</button>
    </ng-container>
  </mat-expansion-panel>
</div>

<p class="no-rezzi" *ngIf="channels.length == 0">You are currently not a member of any Rezzi channels.</p>

<button mat-button (click)="openDialog()" class="join-channel-button">Join Channel</button>
